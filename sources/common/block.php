<?php
/*!
@file block.php
@brief 
@copyright Copyright (c) 2024 Yamanoi Yasushi.
*/

////////////////////////////////////


//--------------------------------------------------------------------------------------
///	ブロックオブジェクトクラス
//--------------------------------------------------------------------------------------
class cblock{
	//--------------------------------------------------------------------------------------
	/*!
	@brief  コンストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __construct(){
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief	パラメータのチェック
	@return	なし（エラーの場合はエラーフラグを立てる）
	*/
	//--------------------------------------------------------------------------------------
	public function paramchk(){
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief	構築時の処理(継承して使用)
	@return	なし
	*/
	//--------------------------------------------------------------------------------------
	public function create(){
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  表示(継承して使用)
	@return なし
	*/
	//--------------------------------------------------------------------------------------
	public function display(){
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  デストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __destruct() {
	}
}



//--------------------------------------------------------------------------------------
///	ノードクラス
//--------------------------------------------------------------------------------------
class cnode extends cblock{
	public $child_blocks;
	//--------------------------------------------------------------------------------------
	/*!
	@brief  コンストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __construct(){
		//親クラスのコンストラクタを呼ぶ
		parent::__construct();
		$this->child_blocks = array();
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief	パラメータのチェック
	@return	なし（エラーの場合はエラーフラグを立てる）
	*/
	//--------------------------------------------------------------------------------------
	public function paramchk(){
		foreach($this->child_blocks as $key => $val){
			$val->paramchk();
		}
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief	構築時の処理(継承して使用)
	@return	なし
	*/
	//--------------------------------------------------------------------------------------
	public function create(){
		foreach($this->child_blocks as $key => $val){
			$val->create();
		}
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  表示
	@return なし
	*/
	//--------------------------------------------------------------------------------------
	public function display(){
		foreach($this->child_blocks as $key => $val){
			$val->display();
		}
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  子ブロックの追加
	@return 追加したオブジェクト（呼び出し側で使いやすくする）
	*/
	//--------------------------------------------------------------------------------------
	public function add_child($block_obj){
		$this->child_blocks[] = $block_obj;
		return $block_obj;
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  デストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __destruct() {
		$this->child_blocks = array();
		//親クラスのデストラクタを呼ぶ
		parent::__destruct();
	}
}


//--------------------------------------------------------------------------------------
///	ブランチクラス（派生クラスを作りやすくする中間クラス）
//--------------------------------------------------------------------------------------
class cbranch extends cblock{
	//--------------------------------------------------------------------------------------
	/*!
	@brief  コンストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __construct(){
		//親クラスのコンストラクタを呼ぶ
		parent::__construct();
	}
	//--------------------------------------------------------------------------------------
	/*!
	@brief  デストラクタ
	*/
	//--------------------------------------------------------------------------------------
	public function __destruct() {
		//親クラスのデストラクタを呼ぶ
		parent::__destruct();
	}
}

